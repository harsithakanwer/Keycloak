<html>

<head>
    <title>Signup Form</title>
    <script type="text/javascript">
        function preventBack() { window.history.forward() };
        setTimeout("preventBack()", 0);
        window.onunload = function () { null; }
    </script>
</head>

<body>
    <h2>Signup Page</h2><br>
    <div class="signup">
        <form id="signupForm" method="post" action="/signedup">
            <label>First Name:</label>
            <input type="text" id="firstname" name="firstname" required>
            <br><br>
            <label>Last Name:</label>
            <input type="text" id="lastname" name="lastname" required>
            <br><br>
            <label>Username:</label>
            <input type="text" id="username" name="username" pattern="^[a-zA-Z0-9_]{3,20}$"
                title="Username must be 3 to 20 characters long and can only contain letters, numbers, and underscores"
                required>
            <br><br>
            <label>Email:</label>
            <input type="text" id="email" name="email" pattern="[^\s@]+@[^\s@]+\.[^\s@]+"
                title="Please enter a valid email address" required>
            <br><br>
            <label>Password:</label>
            <input type="password" id="password" name="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                title="Password must contain at least 8 characters, including one uppercase letter, one lowercase letter, and one number"
                required>
            <br><br>
            <button type="submit">Sign Up</button>
            <br><br>
            <p id="error-message" style="color: red;"></p>
        </form>
    </div>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const errorMessage = urlParams.get('error');
        const errorMessageElement = document.getElementById("error-message");
        if (errorMessage) {
            errorMessageElement.textContent = errorMessage;
        }
    </script>
</body>

</html>